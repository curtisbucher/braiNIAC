import sys

con_table = { "+" : "0",
              "-" : "1",
              ">" : "2",
              "<" : "3",
              "[" : "4",
              "]" : "5",
              "." : "6",
              "," : "7"}
bytecode = ""

# Reading from .bf file
filename = sys.argv[1]
with open(filename, "r") as file:
    for c in file.read()[2::2]:
        if c in con_table:
            bytecode += con_table[c]
        else:
            bytecode + c

# Writing converted bytecode to .brn file
new_filename = sys.argv[1].split(".")[-2].replace("/", "") + ".brn"
with open(new_filename, "w") as file:
    file.write(bytecode)

print("Wrote outputted bytecode to <", new_filename + ">")
print(bytecode)
